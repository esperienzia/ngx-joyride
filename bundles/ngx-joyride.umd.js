!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/common"),require("@angular/router")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs","@angular/common","@angular/router"],e):e(t["ngx-joyride"]={},t.core,t.rxjs,t.common,t.router)}(this,function(t,e,i,o,n){"use strict";const r=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};function s(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}function p(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e){return function(i,o){e(i,o,t)}}var a=function(){return function(){}}(),h="#3b5560",u="bottom",l=function(){function t(){this.themeColor=h,this.stepDefaultPosition=u,this.logsEnabled=!0,this.showCounter=!0,this.showPrevButton=!0,this.stepsOrder=[]}return t.prototype.setOptions=function(t){this.stepsOrder=t.steps,this.stepDefaultPosition=t.stepDefaultPosition?t.stepDefaultPosition:this.stepDefaultPosition,this.logsEnabled=void 0!==t.logsEnabled?t.logsEnabled:this.logsEnabled,this.showCounter=void 0!==t.showCounter?t.showCounter:this.showCounter,this.showPrevButton=void 0!==t.showPrevButton?t.showPrevButton:this.showPrevButton,this.themeColor=t.themeColor?t.themeColor:this.themeColor},t.prototype.getBackdropColor=function(){return this.hexToRgb(this.themeColor)},t.prototype.getThemeColor=function(){return this.themeColor},t.prototype.getStepDefaultPosition=function(){return this.stepDefaultPosition},t.prototype.getStepsOrder=function(){return this.stepsOrder},t.prototype.areLogsEnabled=function(){return this.logsEnabled},t.prototype.isCounterVisible=function(){return this.showCounter},t.prototype.isPrevButtonVisible=function(){return this.showPrevButton},t.prototype.hexToRgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,o){return e+e+i+i+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},t=s([e.Injectable()],t)}(),d=function(){function t(t){this.stepOptions=t,this.stepHasBeenModified=new i.Subject,this.stepsOriginal=[],this.steps=[]}var o;return t.prototype.get=function(t){return this.steps[t]},t.prototype.getStepRoute=function(t){var e=this.stepOptions.getStepsOrder()[t];return e&&e.includes("@")?e.split("@")[1]:""},t.prototype.getStepPosition=function(t){return this.getStepIndex(t)+1},t.prototype.addStep=function(t){if(this.stepsOriginal.filter(function(e){return e.name===t.name}).length>0){var e=this.stepsOriginal.findIndex(function(e){return e.name===t.name});this.stepsOriginal[e]=t}else this.stepsOriginal.push(t)},t.prototype.getNumberOfSteps=function(){return this.stepOptions.getStepsOrder().length},t.prototype.setPosition=function(t,e){var i=this.getStepIndex(t);this.steps[i].position=e,this.stepHasBeenModified.next(this.steps[i])},t.prototype.initSteps=function(){var t=this;this.steps=[],this.stepsOriginal.forEach(function(e){return t.steps.push(r({},e))}),this.sortSteps()},t.prototype.sortSteps=function(){var t=this,e=[];this.stepOptions.getStepsOrder().forEach(function(i){var o=t.steps.find(function(e){return e.name===t.getStepName(i)});o&&e.push(o)}),this.steps=e.slice()},t.prototype.getStepIndex=function(t){return this.steps.findIndex(function(e){return t.name+t.route===e.name+e.route})},t.prototype.getStepName=function(t){return t&&t.includes("@")?t.split("@")[0]:t},t=s([e.Injectable(),p("design:paramtypes",["function"==typeof(o=void 0!==l&&l)?o:Object])],t)}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(e,t),e}(Error),y=function(){function t(t){this.platformId=t,this.fakeDocument={body:{},documentElement:{}},this.fakeWindow={document:this.fakeDocument}}var i;return t.prototype.getNativeWindow=function(){return o.isPlatformBrowser(this.platformId)?window:this.fakeWindow},t.prototype.getNativeDocument=function(){return o.isPlatformBrowser(this.platformId)?document:this.fakeDocument},t=s([e.Injectable(),c(0,e.Inject(e.PLATFORM_ID)),p("design:paramtypes",["function"==typeof(i="undefined"!=typeof Object&&Object)?i:Object])],t)}(),g=function(){function t(){}return t.prototype.setPrevButton=function(t){this._prevButton=t},t.prototype.getPrevButton=function(){return this._prevButton},t.prototype.setNextButton=function(t){this._nextButton=t},t.prototype.getNextButton=function(){return this._nextButton},t.prototype.setDoneButton=function(t){this._doneButton=t},t.prototype.getDoneButton=function(){return this._doneButton},t.prototype.setCounter=function(t){this._counter=t},t.prototype.getCounter=function(){return this._counter},t=s([e.Injectable()],t)}(),v="NO_POSITION",b=function(){function t(t,i,o,n,r,s){this.joyrideStepsContainer=t,this.viewContainerRef=i,this.domService=o,this.router=n,this.templateService=r,this.platformId=s,this.stepPosition=v,this.prev=new e.EventEmitter,this.next=new e.EventEmitter,this.done=new e.EventEmitter,this.windowRef=this.domService.getNativeWindow()}var r,h,u,l,b,m,S,w,C,x,T,E,j,O,_;return t.prototype.ngAfterViewInit=function(){if(o.isPlatformBrowser(this.platformId)){this.prevTemplate&&this.templateService.setPrevButton(this.prevTemplate),this.nextTemplate&&this.templateService.setNextButton(this.nextTemplate),this.doneTemplate&&this.templateService.setDoneButton(this.doneTemplate),this.counterTemplate&&this.templateService.setCounter(this.counterTemplate);var t=new a;if(t.position=this.stepPosition,t.targetViewContainer=this.viewContainerRef,this.setAsyncText(t),t.stepContent=this.stepContent,t.stepContentParams=this.stepContentParams,t.nextClicked=this.next,t.prevCliked=this.prev,t.tourDone=this.done,!this.name)throw new f("All the steps should have the 'joyrideStep' property set with a custom name.");t.name=this.name,t.route="/"===this.router.url.substr(0,1)?this.router.url.substr(1):this.router.url,t.transformCssStyle=this.windowRef.getComputedStyle(this.viewContainerRef.element.nativeElement).transform,t.isElementOrAncestorFixed=this.isElementFixed(this.viewContainerRef.element)||this.isAncestorsFixed(this.viewContainerRef.element.nativeElement.parentElement),this.joyrideStepsContainer.addStep(t)}},t.prototype.isElementFixed=function(t){return"fixed"===this.windowRef.getComputedStyle(t.nativeElement).position},t.prototype.setAsyncText=function(t){this.title instanceof i.Observable?t.title=this.title:t.title=i.of(this.title),this.text instanceof i.Observable?t.text=this.text:t.text=i.of(this.text)},t.prototype.isAncestorsFixed=function(t){if(!t||!t.parentElement)return!1;var e="fixed"===this.windowRef.getComputedStyle(t.parentElement).position;return"BODY"===t.nodeName?e:!!e||this.isAncestorsFixed(t.parentElement)},s([e.Input("joyrideStep"),p("design:type",String)],t.prototype,"name",void 0),s([e.Input(),p("design:type",String)],t.prototype,"nextStep",void 0),s([e.Input(),p("design:type",Object)],t.prototype,"title",void 0),s([e.Input(),p("design:type",Object)],t.prototype,"text",void 0),s([e.Input(),p("design:type",String)],t.prototype,"stepPosition",void 0),s([e.Input(),p("design:type","function"==typeof(r=void 0!==e.TemplateRef&&e.TemplateRef)?r:Object)],t.prototype,"stepContent",void 0),s([e.Input(),p("design:type","function"==typeof(h="undefined"!=typeof Object&&Object)?h:Object)],t.prototype,"stepContentParams",void 0),s([e.Input(),p("design:type","function"==typeof(u=void 0!==e.TemplateRef&&e.TemplateRef)?u:Object)],t.prototype,"prevTemplate",void 0),s([e.Input(),p("design:type","function"==typeof(l=void 0!==e.TemplateRef&&e.TemplateRef)?l:Object)],t.prototype,"nextTemplate",void 0),s([e.Input(),p("design:type","function"==typeof(b=void 0!==e.TemplateRef&&e.TemplateRef)?b:Object)],t.prototype,"doneTemplate",void 0),s([e.Input(),p("design:type","function"==typeof(m=void 0!==e.TemplateRef&&e.TemplateRef)?m:Object)],t.prototype,"counterTemplate",void 0),s([e.Output(),p("design:type","function"==typeof(S=void 0!==e.EventEmitter&&e.EventEmitter)?S:Object)],t.prototype,"prev",void 0),s([e.Output(),p("design:type","function"==typeof(w=void 0!==e.EventEmitter&&e.EventEmitter)?w:Object)],t.prototype,"next",void 0),s([e.Output(),p("design:type","function"==typeof(C=void 0!==e.EventEmitter&&e.EventEmitter)?C:Object)],t.prototype,"done",void 0),t=s([e.Directive({selector:"joyrideStep, [joyrideStep]"}),c(5,e.Inject(e.PLATFORM_ID)),p("design:paramtypes",["function"==typeof(x=void 0!==d&&d)?x:Object,"function"==typeof(T=void 0!==e.ViewContainerRef&&e.ViewContainerRef)?T:Object,"function"==typeof(E=void 0!==y&&y)?E:Object,"function"==typeof(j=void 0!==n.Router&&n.Router)?j:Object,"function"==typeof(O=void 0!==g&&g)?O:Object,"function"==typeof(_="undefined"!=typeof Object&&Object)?_:Object])],t)}(),m=function(){function t(t){this.DOMService=t,this.setDocumentHeight()}var i;return t.prototype.getElementFixedTop=function(t){return t.nativeElement.getBoundingClientRect().top},t.prototype.getElementFixedLeft=function(t){return t.nativeElement.getBoundingClientRect().left},t.prototype.getElementAbsoluteTop=function(t){var e=this.getScrollOffsets();return t.nativeElement.getBoundingClientRect().top+e.y},t.prototype.getElementAbsoluteLeft=function(t){var e=this.getScrollOffsets();return t.nativeElement.getBoundingClientRect().left+e.x},t.prototype.setDocumentHeight=function(){this.documentHeight=this.calculateDocumentHeight()},t.prototype.getDocumentHeight=function(){return this.documentHeight},t.prototype.getFirstScrollableParent=function(t){var e=this,i=/(auto|scroll|overlay)/,o=function(t,i){return e.DOMService.getNativeWindow().getComputedStyle(t,null).getPropertyValue(i)},n=function(t){return t&&t!==e.DOMService.getNativeDocument().body?function(t){return i.test(o(t,"overflow")+o(t,"overflow-y")+o(t,"overflow-x"))}(t)?t:n(t.parentNode):e.DOMService.getNativeDocument().body};return n(t)},t.prototype.calculateDocumentHeight=function(){var t=this.DOMService.getNativeDocument();return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight)},t.prototype.getScrollOffsets=function(){var t=this.DOMService.getNativeWindow(),e=this.DOMService.getNativeDocument();return null!=t.pageXOffset?{x:t.pageXOffset,y:t.pageYOffset}:"CSS1Compat"==e.compatMode?{x:e.documentElement.scrollLeft,y:e.documentElement.scrollTop}:{x:e.body.scrollLeft,y:e.body.scrollTop}},t=s([e.Injectable(),p("design:paramtypes",["function"==typeof(i=void 0!==y&&y)?i:Object])],t)}(),S=function(){function t(t,e,i){this.documentService=t,this.optionsService=e,this.rendererFactory=i,this.lastXScroll=0,this.lastYScroll=0,this.setRenderer()}var i,o,n;return t.prototype.setRenderer=function(){this.renderer=this.rendererFactory.createRenderer(null,null)},t.prototype.draw=function(t){this.elementRef=t.targetViewContainer,this.targetAbsoluteTop=this.getTargetTotalTop(t),this.targetAbsoluteLeft=this.getTargetTotalLeft(t),this.currentBackdropContainer=this.renderer.createElement("div"),this.renderer.addClass(this.currentBackdropContainer,"backdrop-container"),this.renderer.setStyle(this.currentBackdropContainer,"position","fixed"),this.renderer.setStyle(this.currentBackdropContainer,"top","0px"),this.renderer.setStyle(this.currentBackdropContainer,"left","0px"),this.renderer.setStyle(this.currentBackdropContainer,"width","100%"),this.renderer.setStyle(this.currentBackdropContainer,"height","100%"),this.renderer.setStyle(this.currentBackdropContainer,"z-index","1000"),this.backdropContent=this.renderer.createElement("div"),this.renderer.addClass(this.backdropContent,"backdrop-content"),this.renderer.setStyle(this.backdropContent,"position","relative"),this.renderer.setStyle(this.backdropContent,"height","100%"),this.renderer.setStyle(this.backdropContent,"display","flex"),this.renderer.setStyle(this.backdropContent,"flex-direction","column"),this.renderer.appendChild(this.currentBackdropContainer,this.backdropContent),this.backdropTop=this.renderer.createElement("div"),this.renderer.addClass(this.backdropTop,"joyride-backdrop"),this.renderer.addClass(this.backdropTop,"backdrop-top"),this.renderer.setStyle(this.backdropTop,"width","100%"),this.renderer.setStyle(this.backdropTop,"height",this.targetAbsoluteTop-this.lastYScroll+"px"),this.renderer.setStyle(this.backdropTop,"flex-shrink","0"),this.renderer.setStyle(this.backdropTop,"background-color","rgba("+this.optionsService.getBackdropColor()+", 0.7)"),this.renderer.appendChild(this.backdropContent,this.backdropTop),this.backdropMiddleContainer=this.renderer.createElement("div"),this.renderer.addClass(this.backdropMiddleContainer,"backdrop-middle-container"),this.renderer.setStyle(this.backdropMiddleContainer,"height",this.elementRef.element.nativeElement.offsetHeight+"px"),this.renderer.setStyle(this.backdropMiddleContainer,"width","100%"),this.renderer.setStyle(this.backdropMiddleContainer,"flex-shrink","0"),this.renderer.appendChild(this.backdropContent,this.backdropMiddleContainer),this.backdropMiddleContent=this.renderer.createElement("div"),this.renderer.addClass(this.backdropMiddleContent,"backdrop-middle-content"),this.renderer.setStyle(this.backdropMiddleContent,"display","flex"),this.renderer.setStyle(this.backdropMiddleContent,"width","100%"),this.renderer.setStyle(this.backdropMiddleContent,"height","100%"),this.renderer.appendChild(this.backdropMiddleContainer,this.backdropMiddleContent),this.leftBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.leftBackdrop,"joyride-backdrop"),this.renderer.addClass(this.leftBackdrop,"backdrop-left"),this.renderer.setStyle(this.leftBackdrop,"flex-shrink","0"),this.renderer.setStyle(this.leftBackdrop,"width",this.targetAbsoluteLeft-this.lastXScroll+"px"),this.renderer.setStyle(this.leftBackdrop,"background-color","rgba("+this.optionsService.getBackdropColor()+", 0.7)"),this.renderer.appendChild(this.backdropMiddleContent,this.leftBackdrop),this.targetBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.targetBackdrop,"backdrop-target"),this.renderer.setStyle(this.targetBackdrop,"flex-shrink","0"),this.renderer.setStyle(this.targetBackdrop,"width",this.elementRef.element.nativeElement.offsetWidth+"px"),this.renderer.appendChild(this.backdropMiddleContent,this.targetBackdrop),this.rightBackdrop=this.renderer.createElement("div"),this.renderer.addClass(this.rightBackdrop,"joyride-backdrop"),this.renderer.addClass(this.rightBackdrop,"backdrop-right"),this.renderer.setStyle(this.rightBackdrop,"width","100%"),this.renderer.setStyle(this.rightBackdrop,"background-color","rgba("+this.optionsService.getBackdropColor()+", 0.7)"),this.renderer.appendChild(this.backdropMiddleContent,this.rightBackdrop),this.backdropBottom=this.renderer.createElement("div"),this.renderer.addClass(this.backdropBottom,"joyride-backdrop"),this.renderer.addClass(this.backdropBottom,"backdrop-bottom"),this.renderer.setStyle(this.backdropBottom,"width","100%"),this.renderer.setStyle(this.backdropBottom,"height","100%"),this.renderer.setStyle(this.backdropBottom,"background-color","rgba("+this.optionsService.getBackdropColor()+", 0.7)"),this.renderer.appendChild(this.backdropContent,this.backdropBottom),this.removeLastBackdrop(),this.drawCurrentBackdrop(),this.lastBackdropContainer=this.currentBackdropContainer},t.prototype.remove=function(){this.removeLastBackdrop()},t.prototype.redrawTarget=function(t){this.targetAbsoluteLeft=this.getTargetTotalLeft(t),this.targetAbsoluteTop=this.getTargetTotalTop(t),this.handleVerticalScroll(t),this.handleHorizontalScroll(t)},t.prototype.getTargetTotalTop=function(t){var e=t.targetViewContainer;return t.isElementOrAncestorFixed?this.documentService.getElementFixedTop(e.element):this.documentService.getElementAbsoluteTop(e.element)},t.prototype.getTargetTotalLeft=function(t){var e=t.targetViewContainer;return t.isElementOrAncestorFixed?this.documentService.getElementFixedLeft(e.element):this.documentService.getElementAbsoluteLeft(e.element)},t.prototype.redraw=function(t,e){this.lastYScroll!==e.scrollY&&(this.lastYScroll=e.scrollY,this.elementRef&&this.handleVerticalScroll(t)),this.lastXScroll!==e.scrollX&&(this.lastXScroll=e.scrollX,this.elementRef&&this.handleHorizontalScroll(t))},t.prototype.handleHorizontalScroll=function(t){var e=t.isElementOrAncestorFixed?this.targetAbsoluteLeft:this.targetAbsoluteLeft-this.lastXScroll;e>=0?(this.renderer.setStyle(this.leftBackdrop,"width",e+"px"),this.renderer.setStyle(this.targetBackdrop,"width",this.elementRef.element.nativeElement.offsetWidth+"px")):this.handleTargetPartialWidth(e)},t.prototype.handleTargetPartialWidth=function(t){this.renderer.setStyle(this.leftBackdrop,"width","0px");var e=this.elementRef.element.nativeElement.offsetWidth+t;e>=0?this.renderer.setStyle(this.targetBackdrop,"width",e+"px"):this.renderer.setStyle(this.targetBackdrop,"width","0px")},t.prototype.handleVerticalScroll=function(t){var e=t.isElementOrAncestorFixed?this.targetAbsoluteTop:this.targetAbsoluteTop-this.lastYScroll;e>=0?(this.renderer.setStyle(this.backdropTop,"height",e+"px"),this.renderer.setStyle(this.backdropMiddleContainer,"height",this.elementRef.element.nativeElement.offsetHeight+"px")):this.handleTargetPartialHeight(e)},t.prototype.handleTargetPartialHeight=function(t){this.renderer.setStyle(this.backdropTop,"height","0px");var e=this.elementRef.element.nativeElement.offsetHeight+t;e>=0?this.renderer.setStyle(this.backdropMiddleContainer,"height",e+"px"):this.renderer.setStyle(this.backdropMiddleContainer,"height","0px")},t.prototype.removeLastBackdrop=function(){this.lastBackdropContainer&&(this.renderer.removeChild(document.body,this.lastBackdropContainer),this.lastBackdropContainer=void 0)},t.prototype.drawCurrentBackdrop=function(){this.renderer.appendChild(document.body,this.currentBackdropContainer)},t=s([e.Injectable(),p("design:paramtypes",["function"==typeof(i=void 0!==m&&m)?i:Object,"function"==typeof(o=void 0!==l&&l)?o:Object,"function"==typeof(n=void 0!==e.RendererFactory2&&e.RendererFactory2)?n:Object])],t)}(),w=function(){return function(){}}(),C=function(){function t(t,e){this.rendererFactory=t,this.DOMService=e,this.scrollEvent=new i.Subject,this.resizeEvent=new i.Subject,this.renderer=t.createRenderer(null,null)}var o,n;return t.prototype.startListeningScrollEvents=function(){var t=this;this.scrollUnlisten=this.renderer.listen("document","scroll",function(e){t.scrollEvent.next({scrollX:t.DOMService.getNativeWindow().pageXOffset,scrollY:t.DOMService.getNativeWindow().pageYOffset})})},t.prototype.startListeningResizeEvents=function(){var t=this;this.resizeUnlisten=this.renderer.listen("window","resize",function(e){t.resizeEvent.next(e)})},t.prototype.stopListeningScrollEvents=function(){this.scrollUnlisten()},t.prototype.stopListeningResizeEvents=function(){this.resizeUnlisten()},t=s([e.Injectable(),p("design:paramtypes",["function"==typeof(o=void 0!==e.RendererFactory2&&e.RendererFactory2)?o:Object,"function"==typeof(n=void 0!==y&&y)?n:Object])],t)}(),x="ngx-joyride:::",T=function(){function t(t){this.optionService=t}var i;return t.prototype.debug=function(t,e){void 0===e&&(e=""),this.optionService.areLogsEnabled()&&console.debug(x+t,e)},t.prototype.info=function(t,e){void 0===e&&(e=""),this.optionService.areLogsEnabled()&&console.info(x+t,e)},t.prototype.warn=function(t,e){void 0===e&&(e=""),this.optionService.areLogsEnabled()&&console.warn(x+t,e)},t.prototype.error=function(t,e){void 0===e&&(e=""),this.optionService.areLogsEnabled()&&console.error(x+t,e)},t=s([e.Injectable(),p("design:paramtypes",["function"==typeof(i=void 0!==l&&l)?i:Object])],t)}(),E=200,j=200,O=function(){function t(t,e,i,o,n,r,s,p){this.injector=t,this.stepsContainerService=e,this.eventListenerService=i,this.documentService=o,this.renderer=n,this.logger=r,this.optionsService=s,this.templateService=p,this.stepWidth=E,this.stepHeight=j,this.showArrow=!0,this.arrowSize=k,this.subscriptions=[]}var i,o,n,r,c,h,u,f,y,v,b;return t.prototype.ngOnInit=function(){var t=this;this.joyrideStepService=this.injector.get(B),this.documentHeight=this.documentService.getDocumentHeight(),this.subscriptions.push(this.subscribeToResizeEvents()),this.title=this.step.title,this.text=this.step.text,this.setCustomTemplates(),this.counter=this.getCounter(),this.isCounterVisible=this.optionsService.isCounterVisible(),this.isPrevButtonVisible=this.optionsService.isPrevButtonVisible(),this.themeColor=this.optionsService.getThemeColor(),this.text&&this.text.subscribe(function(e){return t.checkRedraw(e)}),this.title&&this.title.subscribe(function(e){return t.checkRedraw(e)})},t.prototype.ngAfterViewInit=function(){if(this.isCustomized())this.renderer.setStyle(this.stepContainer.nativeElement,"max-width","90vw"),this.updateStepDimensions();else{this.renderer.setStyle(this.stepContainer.nativeElement,"max-width","400px");var t=this.getDimensionsByAspectRatio(this.stepContainer.nativeElement.clientWidth,this.stepContainer.nativeElement.clientHeight,1.212);t=this.adjustDimensions(t.width,t.height),this.stepWidth=t.width,this.stepHeight=t.height,this.renderer.setStyle(this.stepContainer.nativeElement,"width",this.stepWidth+"px"),this.renderer.setStyle(this.stepContainer.nativeElement,"height",this.stepHeight+"px")}this.drawStep()},t.prototype.checkRedraw=function(t){var e=this;null!=t&&setTimeout(function(){e.redrawStep()},2)},t.prototype.isCustomized=function(){return this.step.stepContent||this.templateService.getCounter()||this.templateService.getPrevButton()||this.templateService.getNextButton()||this.templateService.getDoneButton()},t.prototype.drawStep=function(){var t=this.step.isElementOrAncestorFixed?"fixed":"absolute";this.renderer.setStyle(this.stepHolder.nativeElement,"position",t),this.renderer.setStyle(this.stepHolder.nativeElement,"transform",this.step.transformCssStyle),this.targetWidth=this.step.targetViewContainer.element.nativeElement.getBoundingClientRect().width,this.targetHeight=this.step.targetViewContainer.element.nativeElement.getBoundingClientRect().height,this.targetAbsoluteLeft="fixed"===t?this.documentService.getElementFixedLeft(this.step.targetViewContainer.element):this.documentService.getElementAbsoluteLeft(this.step.targetViewContainer.element),this.targetAbsoluteTop="fixed"===t?this.documentService.getElementFixedTop(this.step.targetViewContainer.element):this.documentService.getElementAbsoluteTop(this.step.targetViewContainer.element),this.setStepStyle()},t.prototype.getCounter=function(){var t=this.stepsContainerService.getStepPosition(this.step),e=this.stepsContainerService.getNumberOfSteps();return this.counterData={step:t,total:e},t+"/"+e},t.prototype.setCustomTemplates=function(){this.customContent=this.step.stepContent,this.ctx=this.step.stepContentParams,this.customPrevButton=this.templateService.getPrevButton(),this.customNextButton=this.templateService.getNextButton(),this.customDoneButton=this.templateService.getDoneButton(),this.customCounter=this.templateService.getCounter()},t.prototype.prev=function(){this.joyrideStepService.prev()},t.prototype.next=function(){this.joyrideStepService.next()},t.prototype.close=function(){this.joyrideStepService.close()},t.prototype.isFirstStep=function(){return this.joyrideStepService.isFirstStep()},t.prototype.isLastStep=function(){return this.joyrideStepService.isLastStep()},t.prototype.setStepStyle=function(){switch(this.step.position){case"top":this.setStyleTop();break;case"bottom":this.setStyleBottom();break;case"right":this.setStyleRight();break;case"left":this.setStyleLeft();break;case"center":this.setStyleCenter();break;default:this.setStyleBottom()}},t.prototype.setStyleTop=function(){this.stepsContainerService.setPosition(this.step,"top"),this.topPosition=this.targetAbsoluteTop-P-this.stepHeight,this.stepAbsoluteTop=this.targetAbsoluteTop-P-this.stepHeight,this.arrowTopPosition=this.stepHeight,this.leftPosition=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.stepAbsoluteLeft=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.arrowLeftPosition=this.stepWidth/2-this.arrowSize,this.adjustLeftPosition(),this.adjustRightPosition(),this.arrowPosition="bottom",this.autofixTopPosition()},t.prototype.setStyleRight=function(){this.stepsContainerService.setPosition(this.step,"right"),this.topPosition=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.arrowTopPosition=this.stepHeight/2-this.arrowSize,this.leftPosition=this.targetAbsoluteLeft+this.targetWidth+P,this.stepAbsoluteLeft=this.targetAbsoluteLeft+this.targetWidth+P,this.arrowLeftPosition=-this.arrowSize,this.adjustTopPosition(),this.adjustBottomPosition(),this.arrowPosition="left",this.autofixRightPosition()},t.prototype.setStyleBottom=function(){this.stepsContainerService.setPosition(this.step,"bottom"),this.topPosition=this.targetAbsoluteTop+this.targetHeight+P,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight+P,this.arrowTopPosition=-this.arrowSize,this.arrowLeftPosition=this.stepWidth/2-this.arrowSize,this.leftPosition=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.stepAbsoluteLeft=this.targetWidth/2-this.stepWidth/2+this.targetAbsoluteLeft,this.adjustLeftPosition(),this.adjustRightPosition(),this.arrowPosition="top",this.autofixBottomPosition()},t.prototype.setStyleLeft=function(){this.stepsContainerService.setPosition(this.step,"left"),this.topPosition=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.stepAbsoluteTop=this.targetAbsoluteTop+this.targetHeight/2-this.stepHeight/2,this.arrowTopPosition=this.stepHeight/2-this.arrowSize,this.leftPosition=this.targetAbsoluteLeft-this.stepWidth-P,this.stepAbsoluteLeft=this.targetAbsoluteLeft-this.stepWidth-P,this.arrowLeftPosition=this.stepWidth,this.adjustTopPosition(),this.adjustBottomPosition(),this.arrowPosition="right",this.autofixLeftPosition()},t.prototype.setStyleCenter=function(){this.renderer.setStyle(this.stepHolder.nativeElement,"position","fixed"),this.renderer.setStyle(this.stepHolder.nativeElement,"top","50%"),this.renderer.setStyle(this.stepHolder.nativeElement,"left","50%"),this.updateStepDimensions(),this.renderer.setStyle(this.stepHolder.nativeElement,"transform","translate(-"+this.stepWidth/2+"px, -"+this.stepHeight/2+"px)"),this.showArrow=!1},t.prototype.adjustLeftPosition=function(){this.leftPosition<0&&(this.arrowLeftPosition=this.arrowLeftPosition+this.leftPosition-2,this.leftPosition=2)},t.prototype.adjustRightPosition=function(){var t=document.body.clientWidth;if(this.stepAbsoluteLeft+this.stepWidth>t){var e=this.leftPosition-(this.stepAbsoluteLeft+this.stepWidth+5-t),i=e-this.leftPosition;this.leftPosition=e,this.arrowLeftPosition=this.arrowLeftPosition-i}},t.prototype.adjustTopPosition=function(){this.stepAbsoluteTop<0&&(this.arrowTopPosition=this.arrowTopPosition+this.topPosition-2,this.topPosition=2)},t.prototype.adjustBottomPosition=function(){if(this.stepAbsoluteTop+this.stepHeight>this.documentHeight){var t=this.topPosition-(this.stepAbsoluteTop+this.stepHeight+5-this.documentHeight),e=t-this.topPosition;this.topPosition=t,this.arrowTopPosition=this.arrowTopPosition-e}},t.prototype.autofixTopPosition=function(){this.positionAlreadyFixed?this.logger.warn("No step positions found for this step. The step will be centered."):this.targetAbsoluteTop-this.stepHeight-this.arrowSize<0&&(this.positionAlreadyFixed=!0,this.setStyleRight())},t.prototype.autofixRightPosition=function(){this.targetAbsoluteLeft+this.targetWidth+this.stepWidth+this.arrowSize>document.body.clientWidth&&this.setStyleBottom()},t.prototype.autofixBottomPosition=function(){this.targetAbsoluteTop+this.stepHeight+this.arrowSize+this.targetHeight>this.documentHeight&&this.setStyleLeft()},t.prototype.autofixLeftPosition=function(){this.targetAbsoluteLeft-this.stepWidth-this.arrowSize<0&&this.setStyleTop()},t.prototype.subscribeToResizeEvents=function(){var t=this;return this.eventListenerService.resizeEvent.subscribe(function(){t.redrawStep()})},t.prototype.redrawStep=function(){this.updateStepDimensions(),this.drawStep()},t.prototype.getDimensionsByAspectRatio=function(t,e,i){var o=(t+e)/(1+i);return{width:o*i,height:o}},t.prototype.adjustDimensions=function(t,e){var i=t,o=e;return t>400?o=t*e/(i=400):t<E&&(i=E,o=E/1.212),{width:i,height:o}},t.prototype.updateStepDimensions=function(){this.stepWidth=this.stepContainer.nativeElement.clientWidth,this.stepHeight=this.stepContainer.nativeElement.clientHeight},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){t.unsubscribe()})},s([e.Input(),p("design:type","function"==typeof(i=void 0!==a&&a)?i:Object)],t.prototype,"step",void 0),s([e.ViewChild("stepHolder"),p("design:type","function"==typeof(o=void 0!==e.ElementRef&&e.ElementRef)?o:Object)],t.prototype,"stepHolder",void 0),s([e.ViewChild("stepContainer"),p("design:type","function"==typeof(n=void 0!==e.ElementRef&&e.ElementRef)?n:Object)],t.prototype,"stepContainer",void 0),t=s([e.Component({selector:"joyride-step",template:'<div #stepHolder class="joyride-step__holder" [style.top.px]="topPosition" [style.left.px]="leftPosition">\n    <joyride-arrow *ngIf="showArrow" class="joyride-step__arrow" [position]="arrowPosition" [style.top.px]="arrowTopPosition"\n        [style.left.px]="arrowLeftPosition"></joyride-arrow>\n    <div #stepContainer class="joyride-step__container">\n        <joy-close-button class="joyride-step__close" (click)="close()"></joy-close-button>\n        <div class="joyride-step__header">\n            <div class="joyride-step__title" [style.color]="themeColor">{{ title | async }}</div>\n        </div>\n        <div class="joyride-step__body">\n            <ng-container *ngTemplateOutlet="customContent ? customContent : defaultContent; context: ctx"></ng-container>\n            <ng-template #defaultContent>\n                {{ text | async }}\n            </ng-template>\n        </div>\n        <div class="joyride-step__footer">\n            <div *ngIf="isCounterVisible" class="joyride-step__counter-container">\n                <ng-container *ngTemplateOutlet="customCounter ? customCounter : defaultCounter; context: counterData"></ng-container>\n                <ng-template #defaultCounter>\n                    <div class="joyride-step__counter">{{ counter }}</div>\n                </ng-template>\n            </div>\n            <div class="joyride-step__buttons-container">\n                <div class="joyride-step__prev-container" *ngIf="isPrevButtonVisible && !isFirstStep()" (click)="prev()">\n                    <ng-container *ngTemplateOutlet="customPrevButton ? customPrevButton : defaultPrevButton"></ng-container>\n                    <ng-template #defaultPrevButton>\n                        <joyride-button class="joyride-step__prev-button" [color]="themeColor">Prev</joyride-button>\n                    </ng-template>\n                </div>\n                <div class="joyride-step__next-container" *ngIf="!isLastStep(); else doneButton" (click)="next()">\n                    <ng-container *ngTemplateOutlet="customNextButton ? customNextButton : defaulNextButton"></ng-container>\n                    <ng-template #defaulNextButton>\n                        <joyride-button [color]="themeColor">Next</joyride-button>\n                    </ng-template>\n                </div>\n                <ng-template #doneButton>\n                    <div class="joyride-step__done-container" (click)="close()">\n                        <ng-container *ngTemplateOutlet="customDoneButton ? customDoneButton : defaultDoneButton"></ng-container>\n                        <ng-template #defaultDoneButton>\n                            <joyride-button class="joyride-step__done-button" [color]="themeColor">Done</joyride-button>\n                        </ng-template>\n                    </div>\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>',styles:[".joyride-step__holder {\n  position: absolute;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  z-index: 1001; }\n\n.joyride-step__arrow {\n  position: absolute;\n  left: 40px;\n  z-index: 1002; }\n\n.joyride-step__container {\n  box-sizing: border-box;\n  position: relative;\n  color: #000000;\n  background-color: #FFFFFF;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 10px;\n  box-shadow: 0px 0px 30px 1px #000000; }\n\n.joyride-step__header {\n  display: flex;\n  align-items: center;\n  padding: 8px; }\n\n.joyride-step__title {\n  font-weight: bold;\n  font-size: 20px; }\n\n.joyride-step__close {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  width: 14px;\n  height: 14px;\n  cursor: pointer; }\n\n.joyride-step__body {\n  text-align: left;\n  padding: 10px 8px; }\n\n.joyride-step__footer {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 8px; }\n\n.joyride-step__buttons-container {\n  display: grid;\n  grid-gap: 5px;\n  grid-template-columns: auto auto; }\n\n.joyride-step__counter {\n  font-weight: bold;\n  font-size: 14px; }\n\n.joyride-step__counter-container {\n  margin-right: 10px; }\n"],encapsulation:e.ViewEncapsulation.None}),p("design:paramtypes",["function"==typeof(r=void 0!==e.Injector&&e.Injector)?r:Object,"function"==typeof(c=void 0!==d&&d)?c:Object,"function"==typeof(h=void 0!==C&&C)?h:Object,"function"==typeof(u=void 0!==m&&m)?u:Object,"function"==typeof(f=void 0!==e.Renderer2&&e.Renderer2)?f:Object,"function"==typeof(y=void 0!==T&&T)?y:Object,"function"==typeof(v=void 0!==l&&l)?v:Object,"function"==typeof(b=void 0!==g&&g)?b:Object])],t)}(),_=function(){function t(t,e,i){this.componentFactoryResolver=t,this.appRef=e,this.injector=i,this.refMap={}}var i,o,n;return t.prototype.draw=function(t){var e=this.componentFactoryResolver.resolveComponentFactory(O).create(this.injector);this.appRef.attachView(e.hostView);var i=e.hostView.rootNodes[0];document.body.appendChild(i);var o=e.instance;o.step=t,e.changeDetectorRef.detectChanges(),t.stepInstance=o,this.refMap[t.name]=e},t.prototype.remove=function(t){this.appRef.detachView(this.refMap[t.name].hostView),this.refMap[t.name].destroy()},t=s([e.Injectable(),p("design:paramtypes",["function"==typeof(i=void 0!==e.ComponentFactoryResolver&&e.ComponentFactoryResolver)?i:Object,"function"==typeof(o=void 0!==e.ApplicationRef&&e.ApplicationRef)?o:Object,"function"==typeof(n=void 0!==e.Injector&&e.Injector)?n:Object])],t)}(),P=15,k=10,B=function(){function t(t,e,o,n,r,s,p,c){this.backDropService=t,this.eventListener=e,this.stepsContainerService=o,this.documentService=n,this.DOMService=r,this.stepDrawerService=s,this.optionsService=p,this.router=c,this.winTopPosition=0,this.winBottomPosition=0,this.stepsObserver=new i.ReplaySubject,this.initViewportPositions(),this.subscribeToScrollEvents(),this.subscribeToResizeEvents()}var o,r,c,a,h,u,f,g;return t.prototype.initViewportPositions=function(){this.winTopPosition=0,this.winBottomPosition=this.DOMService.getNativeWindow().innerHeight-20},t.prototype.subscribeToScrollEvents=function(){var t=this;this.eventListener.startListeningScrollEvents(),this.eventListener.scrollEvent.subscribe(function(e){t.winTopPosition=e.scrollY,t.winBottomPosition=t.winTopPosition+t.DOMService.getNativeWindow().innerHeight-20,t.backDropService.redraw(t.currentStep,e)})},t.prototype.subscribeToResizeEvents=function(){var t=this;this.eventListener.resizeEvent.subscribe(function(){t.backDropService.redrawTarget(t.currentStep)})},t.prototype.drawStep=function(t){t.position=t.position===v?this.optionsService.getStepDefaultPosition():t.position,this.stepDrawerService.draw(t)},t.prototype.startTour=function(){return this.stepsObserver=new i.ReplaySubject,this.currentStepIndex=0,this.documentService.setDocumentHeight(),this.navigateToStepPage(),this.showStep("NEXT"),this.eventListener.startListeningResizeEvents(),this.subscribeToStepsUpdates(),this.stepsObserver.asObservable()},t.prototype.close=function(){this.removeCurrentStep(),this.notifyTourIsFinished(),this.DOMService.getNativeWindow().scrollTo(0,0),this.eventListener.stopListeningResizeEvents(),this.backDropService.remove()},t.prototype.prev=function(){this.removeCurrentStep(),this.currentStepIndex-=1,this.currentStep.prevCliked.emit(),this.navigateToStepPage(),this.showStep("PREV")},t.prototype.next=function(){this.removeCurrentStep(),this.currentStepIndex+=1,this.currentStep.nextClicked.emit(),this.navigateToStepPage(),this.showStep("NEXT")},t.prototype.isFirstStep=function(){return 0===this.currentStepIndex},t.prototype.isLastStep=function(){return this.currentStepIndex===this.stepsContainerService.getNumberOfSteps()-1},t.prototype.navigateToStepPage=function(){var t=this.stepsContainerService.getStepRoute(this.currentStepIndex);t&&this.router.navigate([t])},t.prototype.subscribeToStepsUpdates=function(){var t=this;this.stepsContainerService.stepHasBeenModified.subscribe(function(e){t.currentStep.name===e.name&&(t.currentStep=e)})},t.prototype.showStep=function(t){var e=this;setTimeout(function(){e.stepsContainerService.initSteps(),e.currentStep=e.stepsContainerService.get(e.currentStepIndex),e.isParentScrollable(e.currentStep.targetViewContainer.element.nativeElement)&&e.currentStep.targetViewContainer.element.nativeElement.scrollIntoView(),e.backDropService.draw(e.currentStep),e.drawStep(e.currentStep),e.scrollIfStepAndTargetAreNotVisible(),e.notifyStepClicked(t)},1)},t.prototype.notifyStepClicked=function(t){var e={number:this.currentStepIndex,name:this.currentStep.name,route:this.currentStep.route,actionType:t};this.stepsObserver.next(e)},t.prototype.notifyTourIsFinished=function(){this.currentStep.tourDone.emit(),this.stepsObserver.complete()},t.prototype.isParentScrollable=function(t){return this.documentService.getFirstScrollableParent(t)!==this.DOMService.getNativeDocument().body},t.prototype.removeCurrentStep=function(){this.stepDrawerService.remove(this.currentStep)},t.prototype.scrollIfStepAndTargetAreNotVisible=function(){this.scrollWhenTargetOrStepAreHiddenBottom(),this.scrollWhenTargetOrStepAreHiddenTop()},t.prototype.scrollWhenTargetOrStepAreHiddenBottom=function(){var t=this.getMaxTargetAndStepBottomPosition();t>this.winBottomPosition&&this.DOMService.getNativeWindow().scrollBy(0,t-this.winBottomPosition)},t.prototype.scrollWhenTargetOrStepAreHiddenTop=function(){var t=this.getMaxTargetAndStepTopPosition();t<this.winTopPosition&&this.DOMService.getNativeWindow().scrollBy(0,t-this.winTopPosition)},t.prototype.getMaxTargetAndStepBottomPosition=function(){var t=this.documentService.getElementAbsoluteTop(this.currentStep.targetViewContainer.element);return"top"===this.currentStep.position?t+this.currentStep.stepInstance.targetHeight:"bottom"===this.currentStep.position?t+this.currentStep.stepInstance.targetHeight+this.currentStep.stepInstance.stepHeight+k+P:"right"===this.currentStep.position||"left"===this.currentStep.position?Math.max(t+this.currentStep.stepInstance.targetHeight,t+this.currentStep.stepInstance.targetHeight/2+this.currentStep.stepInstance.stepHeight/2):void 0},t.prototype.getMaxTargetAndStepTopPosition=function(){var t=this.documentService.getElementAbsoluteTop(this.currentStep.targetViewContainer.element);return"top"===this.currentStep.position?t-(this.currentStep.stepInstance.stepHeight+k+P):"bottom"===this.currentStep.position?t:"right"===this.currentStep.position||"left"===this.currentStep.position?Math.min(t,t+this.currentStep.stepInstance.targetHeight/2-this.currentStep.stepInstance.stepHeight/2):void 0},t=s([e.Injectable(),p("design:paramtypes",["function"==typeof(o=void 0!==S&&S)?o:Object,"function"==typeof(r=void 0!==C&&C)?r:Object,"function"==typeof(c=void 0!==d&&d)?c:Object,"function"==typeof(a=void 0!==m&&m)?a:Object,"function"==typeof(h=void 0!==y&&y)?h:Object,"function"==typeof(u=void 0!==_&&_)?u:Object,"function"==typeof(f=void 0!==l&&l)?f:Object,"function"==typeof(g=void 0!==n.Router&&n.Router)?g:Object])],t)}(),R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function A(t,e){function i(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var D,I={e:{}};function H(){try{return D.apply(this,arguments)}catch(t){return I.e=t,I}}function L(t){return D=t,H}function M(t){return"function"==typeof t}var F=!1,N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;F=t},get useDeprecatedSynchronousErrorHandling(){return F}};function W(t){setTimeout(function(){throw t})}var V={closed:!0,next:function(t){},error:function(t){if(N.useDeprecatedSynchronousErrorHandling)throw t;W(t)},complete:function(){}},z=Array.isArray||function(t){return t&&"number"==typeof t.length};function U(t){return null!=t&&"object"==typeof t}var Y=function(t){function e(i){var o=t.call(this,i?i.length+" errors occurred during unsubscription:\n  "+i.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return o.errors=i,o.name="UnsubscriptionError",Object.setPrototypeOf(o,e.prototype),o}return A(e,t),e}(Error),X=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var i=this._parent,o=this._parents,n=this._unsubscribe,r=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,p=o?o.length:0;i;)i.remove(this),i=++s<p&&o[s]||null;if(M(n))L(n).call(this)===I&&(e=!0,t=t||(I.e instanceof Y?J(I.e.errors):[I.e]));if(z(r))for(s=-1,p=r.length;++s<p;){var c=r[s];if(U(c))if(L(c.unsubscribe).call(c)===I){e=!0,t=t||[];var a=I.e;a instanceof Y?t=t.concat(J(a.errors)):t.push(a)}}if(e)throw new Y(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var i=e;switch(typeof e){case"function":i=new t(e);case"object":if(i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if("function"!=typeof i._addParent){var o=i;(i=new t)._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(i),i._addParent(this),i},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}},t.prototype._addParent=function(t){var e=this._parent,i=this._parents;e&&e!==t?i?-1===i.indexOf(t)&&i.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function J(t){return t.reduce(function(t,e){return t.concat(e instanceof Y?e.errors:e)},[])}var $="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",q=function(t){function e(e,i,o){var n=t.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=V;break;case 1:if(!e){n.destination=V;break}if("object"==typeof e){if(Z(e)){var r=e[$]();n.syncErrorThrowable=r.syncErrorThrowable,n.destination=r,r.add(n)}else n.syncErrorThrowable=!0,n.destination=new G(n,e);break}default:n.syncErrorThrowable=!0,n.destination=new G(n,e,i,o)}return n}return A(e,t),e.prototype[$]=function(){return this},e.create=function(t,i,o){var n=new e(t,i,o);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(X),G=function(t){function e(e,i,o,n){var r,s=t.call(this)||this;s._parentSubscriber=e;var p=s;return M(i)?r=i:i&&(r=i.next,o=i.error,n=i.complete,i!==V&&(M((p=Object.create(i)).unsubscribe)&&s.add(p.unsubscribe.bind(p)),p.unsubscribe=s.unsubscribe.bind(s))),s._context=p,s._next=r,s._error=o,s._complete=n,s}return A(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;N.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,i=N.useDeprecatedSynchronousErrorHandling;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):W(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;W(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};N.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),N.useDeprecatedSynchronousErrorHandling)throw t;W(t)}},e.prototype.__tryOrSetError=function(t,e,i){if(!N.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(e){return N.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(W(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(q);function Z(t){return t instanceof q||"syncErrorThrowable"in t&&t[$]}"function"==typeof Symbol&&Symbol.observable;Error,Error;var K=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.callback))},t}(),Q=function(t){function e(e,i){var o=t.call(this,e)||this;return o.add(new X(i)),o}return A(e,t),e}(q);Error;Error;var tt=function(){return function(){}}(),et=function(){function t(t,e,i){this.platformId=t,this.stepService=e,this.optionsService=i,this.tourInProgress=!1}var n,r,a;return t.prototype.startTour=function(t){var e,n=this;return o.isPlatformBrowser(this.platformId)?(this.tourInProgress||(this.tourInProgress=!0,t&&this.optionsService.setOptions(t),this.tour$=this.stepService.startTour().pipe((e=function(){return n.tourInProgress=!1},function(t){return t.lift(new K(e))})),this.tour$.subscribe()),this.tour$):i.of(new tt)},t.prototype.isTourInProgress=function(){return this.tourInProgress},t=s([e.Injectable(),c(0,e.Inject(e.PLATFORM_ID)),p("design:paramtypes",["function"==typeof(n="undefined"!=typeof Object&&Object)?n:Object,"function"==typeof(r=void 0!==B&&B)?r:Object,"function"==typeof(a=void 0!==l&&l)?a:Object])],t)}(),it=function(){function t(){this.clicked=new e.EventEmitter}var i;return t.prototype.onClick=function(){this.clicked.emit()},s([e.Input(),p("design:type",String)],t.prototype,"color",void 0),s([e.Output(),p("design:type","function"==typeof(i=void 0!==e.EventEmitter&&e.EventEmitter)?i:Object)],t.prototype,"clicked",void 0),t=s([e.Component({selector:"joyride-button",template:"<button (mouseleave)=\"hover=false\" (mouseover)=\"hover=true\"\n    [ngStyle]=\"{'background-color': hover ? '#fff' : color, \n                'color': hover ? color : '#fff',\n                'border-color' : hover ? color : 'transparent'}\"\n    class=\"joyride-button\" (click)=\"onClick()\">\n    <ng-content></ng-content>\n</button>",styles:[".joyride-button {\n  text-transform: uppercase;\n  border: 2px solid transparent;\n  outline: none;\n  padding: 6px 12px;\n  font-size: 12px;\n  font-weight: bold;\n  color: white;\n  background-color: #3b5560;\n  cursor: pointer; }\n  .joyride-button:hover {\n    color: #3b5560;\n    border: 2px solid #3b5560;\n    background-color: white; }\n"]})],t)}(),ot=function(){function t(){}return t=s([e.Component({selector:"joy-close-button",template:'<svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg">\n                <line x1="1" y1="24" \n                    x2="24" y2="1" \n                    stroke="black" \n                    stroke-width="3"/>\n                <line x1="1" y1="1" \n                    x2="24" y2="24" \n                    stroke="black" \n                    stroke-width="3"/>\n            </svg>'})],t)}(),nt=function(){function t(){this.position="top"}return s([e.Input(),p("design:type",String)],t.prototype,"position",void 0),t=s([e.Component({selector:"joyride-arrow",template:"<div [class.joyride-arrow__top]=\"position == 'top'\"\n     [class.joyride-arrow__bottom]=\"position == 'bottom'\"\n     [class.joyride-arrow__left]=\"position == 'left'\"\n     [class.joyride-arrow__right]=\"position == 'right'\">\n</div>",styles:[".joyride-arrow__top {\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-bottom: 11px solid #ffffff; }\n\n.joyride-arrow__bottom {\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-top: 11px solid #ffffff; }\n\n.joyride-arrow__right {\n  border-left: 11px solid #ffffff;\n  border-bottom: 11px solid transparent;\n  border-top: 11px solid transparent; }\n\n.joyride-arrow__left {\n  border-right: 11px solid #ffffff;\n  border-top: 11px solid transparent;\n  border-bottom: 11px solid transparent; }\n"],encapsulation:e.ViewEncapsulation.None})],t)}(),rt=n.RouterModule.forChild([]),st=function(){function t(){}var i;return i=t,t.forRoot=function(){return{ngModule:i,providers:[et,B,d,S,C,m,l,_,y,T,g]}},t.forChild=function(){return{ngModule:i,providers:[]}},t=i=s([e.NgModule({imports:[o.CommonModule,rt],declarations:[b,O,nt,it,ot],entryComponents:[O],exports:[b]})],t)}();t.routerModuleForChild=rt,t.JoyrideModule=st,t.JoyrideService=et,t.NO_POSITION=v,t.JoyrideDirective=b,t.DISTANCE_FROM_TARGET=P,t.ARROW_SIZE=k,t.JoyrideStepService=B,t.JoyrideBackdropService=S,t.Scroll=w,t.EventListenerService=C,t.JoyrideStepsContainerService=d,t.DocumentService=m,t.DEFAULT_THEME_COLOR=h,t.STEP_DEFAULT_POSITION=u,t.JoyrideOptionsService=l,t.StepDrawerService=_,t.DomRefService=y,t.LoggerService=T,t.TemplatesService=g,t.DEFAULT_DISTANCE_FROM_MARGIN_TOP=2,t.DEFAULT_DISTANCE_FROM_MARGIN_LEFT=2,t.JoyrideStepComponent=O,t.JoyrideArrowComponent=nt,t.JoyrideButtonComponent=it,t.JoyrideCloseButtonComponent=ot,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-joyride.umd.js.map
